<link rel="stylesheet" href="https://cdn.kore.ai/WidgetsSDK/latest/kore-sdk.min.css">
<script src="https://cdn.kore.ai/WidgetsSDK/latest/kore-sdk.min.js"></script>

<div id="kore-widget-container" style="max-width: 420px; margin: 24px auto;"></div>

<script>
    (async () => {
        // 1) Get a server-side JWT (do NOT embed secrets client-side)
        const tokenResp = await fetch("http://localhost:8080/getJWT");
        const { jwt } = await tokenResp.json();

        // 2) Initialize the Widget SDK
        // Keep this minimal: one panel with one published widget in your Digital View
        KoreSDK.init({
            botOptions: {
                botInfo: {
                    name: "WindWhisperBot",
                    _id: "st-4cbf8fcc-77c8-591a-b62c-875dfac9f721"
                },
                userIdentity: "user@WindWhisperBot.com", // any unique string per user
                jwt // pass the token we just fetched
            },
            container: "#kore-widget-container",
            UI: {
                theme: "dark" // or "light"
            }
        });
    })();
</script>